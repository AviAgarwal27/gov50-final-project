---
title: "Final Project"
author: "Avi Agarwal"
date: "2023-12-12"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

`
```{r, include=FALSE}
library(tidyverse)
dime <- read_csv("Gov 50 Final Project/dime_recipients_1979_2020.csv")
theme_set(theme_bw(base_size = 12))
library(ggthemes)
library(extrafont)
library(broom)
```

```{r, include=FALSE}
dime_res <- dime |>
  drop_na(gwinner)
```

```{r, include=FALSE}
dime_res_n <- dime_res |>
  filter(cycle == 2016) |>
  group_by(seat) |>
  mutate(nms = (100 * (total.receipts/median(total.receipts)))) |>
  drop_na(nms) |>
  mutate(across(c(`nms`),round,2))
```

```{r, include=FALSE}
dime_res_n <- dime_res_n |>
   mutate(`Election Outcome:` = if_else(gwinner == "W","Won", "Loss"))
dime_res_n$`Election Outcome:` <- factor(dime_res_n$`Election Outcome:`, levels = c("Won","Loss"))
```

```{r , include=FALSE}
nms_gvc <- dime_res_n |>
  ggplot(aes(y = nms, x = gen.vote.pct)) + 
  geom_point(aes(color = `Election Outcome:`), alpha = 0.35) + 
  scale_y_continuous(limits = c(0,400)) + scale_color_manual(values = c("darkblue", "red3")) + 
  labs(y = "NMS Score",
       x = "% Vote Share in 2016 General Election",
       caption = "Source: Stanford Database on Ideology, Money in Politics, and Elections.",
       title = "NMS Score over Vote Share in 2016 General Election") +
  theme_economist() + 
  theme(plot.caption = element_text(hjust = 0, size = 8, face = "italic")) + 
  theme(text=element_text(family="Calibri")) +
  theme(axis.title.x = element_text(margin = margin(t = 10, b = 10))) +
  theme(axis.title.y = element_text(margin = margin(r = 15))) +
  theme(legend.title = element_text(size = 14, face = "bold")) +
  theme(plot.title = element_text(hjust = 0.2)) +
  geom_hline(yintercept = 100, size = 1, color = "black") 
```

```{r, include=FALSE}
seat_bar <- dime_res_n |>
  filter(seat == "federal:senate" | seat == "federal:house") |>
  filter(nms >= 100) |>
  group_by(seat) |>
  mutate(win_bin = if_else(gwinner == "W", 1,0)) |>
  summarize(prop_win = mean(win_bin)) |>
  rename(Seat = seat) |>
  mutate(across(c(`prop_win`),round,2)) |>
  mutate(Seat = if_else(Seat == "federal:house", "House of Representatives", "Senate"))

bar <- seat_bar |> 
  ggplot(aes(x = Seat, y = prop_win, fill = Seat )) + 
  geom_bar(stat='identity', width=.5) + 
  labs(x = "Seat Sought", 
       y = "Proportion of Candidates that Won",
       caption = "Source: Stanford Database on Ideology, Money in Politics, and Elections.", 
       title = "Proportion of Candidates that Won with a NMS of at least 100") + 
  scale_fill_manual(values = c("steelblue", "red3")) + 
  geom_hline(yintercept = 0.5, size = 1) + 
  geom_text(aes(label = prop_win), vjust = 1.5, colour = "white",family="Calibri" ) +  
  theme_economist() +
  theme(legend.position = "none") + 
  theme(axis.title.y = element_text(margin = margin(r = 15))) + 
  theme(axis.title.x = element_text(margin = margin(t = 10, b = 10))) + 
  theme(title = element_text(margin = margin(b = 5))) + 
  theme(plot.caption = element_text(hjust = 0, size = 8, face = "italic")) +
  theme(text=element_text(family="Calibri")) 
```


```{r, include=FALSE}
dime_reg <- dime_res_n |>
  mutate(win_bin = if_else(gwinner == "W", 1,0)) |>
  filter(seat == "federal:senate" | seat == "federal:house") |>
  mutate(Seat = if_else(seat == "federal:house", "House of Representatives", "Senate")) |>
  mutate(nms_w = if_else(nms >= 100, 1, 0))
reg <- lm(win_bin ~ nms_w + Seat, data = dime_reg)
var_labels <- c(
   "(Intercept)" = "Win Prop. with NMS less than 100",
  "nms_w" = "Win Prop. for House Candidate when NMS is atleast 100",
  "SeatSenate" = "Difference in Win Prop. for a Senate Candidate when NMS is atleast 100")
```

##Introduction

Political campaigns have become increasingly dependent on financial contributions, with campaign funding playing a pivotal role in campaign success. To better understand the role of money in elections, this study examines whether achieving a specific fundraising threshold serves as a reliable indicator of a campaign's likelihood of success. The particular metric of interest is whether a campaign has raised at least the median amount of contributions for its respective seat. By focusing on this criterion, the study aims to determine the impact of meeting or surpassing the median fundraising level on the success of campaigns in the 2016 U.S. House and Senate races.

I hypothesize that the impact of campaign funding will vary between these two levels of federal elections. For House races, funding will have a greater effect, as it can significantly boost outreach and engagement in these relatively smaller districts. In contrast, in Senate races, which cover entire states and attract more media attention, funding may have a lesser impact of funding on voter decisions, as voters might already have more established opinions influenced by broader national issues.

Understanding the impact of money in elections is key to developing more equitable campaign finance laws, ensuring that financial resources do not determine election outcomes. Free and fair elections are the core tenet of democracy, and regulating the role of money in elections is key to upholding those principles.

##Data

```{r, echo=FALSE, fig.height=5, warning = FALSE}
nms_gvc
```

```{r, echo=FALSE}
bar
```

```{r, message=FALSE, echo=FALSE}
modelsummary::modelsummary(
reg ,coef_map = var_labels,
gof_map = c("nobs", "r.squared", "adj.r.squared"))
```

##Code


```{r, eval = FALSE}
library(tidyverse)
dime <- read_csv("Gov 50 Final Project/dime_recipients_1979_2020.csv")
theme_set(theme_bw(base_size = 12))
library(ggthemes)
library(extrafont)
library(broom)
```

```{r, eval = FALSE}
dime_res <- dime |>
  drop_na(gwinner)
```

```{r, eval = FALSE}
dime_res_n <- dime_res |>
  filter(cycle == 2016) |>
  group_by(seat) |>
  mutate(nms = (100 * (total.receipts/median(total.receipts)))) |>
  drop_na(nms) |>
  mutate(across(c(`nms`),round,2))
```

```{r, eval = FALSE}
dime_res_n <- dime_res_n |>
   mutate(`Election Outcome:` = if_else(gwinner == "W","Won", "Loss"))
dime_res_n$`Election Outcome:` <- factor(dime_res_n$`Election Outcome:`, levels = c("Won","Loss"))
```

```{r , eval = FALSE}
nms_gvc <- dime_res_n |>
  ggplot(aes(y = nms, x = gen.vote.pct)) + 
  geom_point(aes(color = `Election Outcome:`), alpha = 0.35) + 
  scale_y_continuous(limits = c(0,400)) + scale_color_manual(values = c("darkblue", "red3")) + 
  labs(y = "NMS Score",
       x = "% Vote Share in 2016 General Election",
       caption = "Source: Stanford Database on Ideology, Money in Politics, and Elections.",
       title = "NMS Score over Vote Share in 2016 General Election") +
  theme_economist() + 
  theme(plot.caption = element_text(hjust = 0, size = 8, face = "italic")) + 
  theme(text=element_text(family="Calibri")) +
  theme(axis.title.x = element_text(margin = margin(t = 10, b = 10))) +
  theme(axis.title.y = element_text(margin = margin(r = 15))) +
  theme(legend.title = element_text(size = 14, face = "bold")) +
  theme(plot.title = element_text(hjust = 0.2)) +
  geom_hline(yintercept = 100, size = 1, color = "black") 
```

```{r, eval = FALSE}
seat_bar <- dime_res_n |>
  filter(seat == "federal:senate" | seat == "federal:house") |>
  filter(nms >= 100) |>
  group_by(seat) |>
  mutate(win_bin = if_else(gwinner == "W", 1,0)) |>
  summarize(prop_win = mean(win_bin)) |>
  rename(Seat = seat) |>
  mutate(across(c(`prop_win`),round,2)) |>
  mutate(Seat = if_else(Seat == "federal:house", "House of Representatives", "Senate"))

bar <- seat_bar |> 
  ggplot(aes(x = Seat, y = prop_win, fill = Seat )) + 
  geom_bar(stat='identity', width=.5) + 
  labs(x = "Seat Sought", 
       y = "Proportion of Candidates that Won",
       caption = "Source: Stanford Database on Ideology, Money in Politics, and Elections.", 
       title = "Proportion of Candidates that Won with a NMS of at least 100") + 
  scale_fill_manual(values = c("steelblue", "red3")) + 
  geom_hline(yintercept = 0.5, size = 1) + 
  geom_text(aes(label = prop_win), vjust = 1.5, colour = "white",family="Calibri" ) +  
  theme_economist() +
  theme(legend.position = "none") + 
  theme(axis.title.y = element_text(margin = margin(r = 15))) + 
  theme(axis.title.x = element_text(margin = margin(t = 10, b = 10))) + 
  theme(title = element_text(margin = margin(b = 5))) + 
  theme(plot.caption = element_text(hjust = 0, size = 8, face = "italic")) +
  theme(text=element_text(family="Calibri")) 
```


```{r, eval = FALSE}
dime_reg <- dime_res_n |>
  mutate(win_bin = if_else(gwinner == "W", 1,0)) |>
  filter(seat == "federal:senate" | seat == "federal:house") |>
  mutate(Seat = if_else(seat == "federal:house", "House of Representatives", "Senate")) |>
  mutate(nms_w = if_else(nms >= 100, 1, 0))
reg <- lm(win_bin ~ nms_w + Seat, data = dime_reg)
var_labels <- c(
  "(Intercept)" = "Win Prop. with NMS less than 100",
  "nms_w" = "Win Prop. for House Candidate when NMS is atleast 100",
  "SeatSenate" = "Difference between Win Prop. for a Senate when NMS is atleast 100")
```